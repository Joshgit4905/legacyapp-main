<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Manager - Modern</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="styles.css">
</head>

<body class="bg-slate-50 min-h-screen">
    <!-- Floating Orbs Background -->
    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>
    <div class="orb orb-3"></div>

    <!-- Login Page -->
    <div id="loginPage" class="min-h-screen flex items-center justify-center p-4 fade-in">
        <div class="w-full max-w-md">
            <div class="text-center mb-8 scale-in stagger-1">
                <h1 class="text-5xl font-bold text-white mb-2 neon-text">Task Manager</h1>
                <p class="text-slate-300 text-lg">Sistema moderno de gesti칩n de tareas</p>
            </div>

            <div class="glass-card p-8 scale-in stagger-2">
                <h2 class="text-2xl font-semibold text-white mb-6">Iniciar Sesi칩n</h2>

                <div id="loginError"
                    class="hidden mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm"></div>

                <form id="loginForm" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-slate-300 mb-2">Usuario</label>
                        <input type="text" id="loginUsername" value="admin" class="w-full" required>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-slate-300 mb-2">Contrase침a</label>
                        <input type="password" id="loginPassword" value="admin" class="w-full" required>
                    </div>

                    <button type="submit" class="w-full btn-gradient">
                        Entrar
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div id="dashboard" class="hidden min-h-screen">
        <!-- Header -->
        <header class="bg-dark-glass border-b border-white border-opacity-10 sticky top-0 z-50 backdrop-blur-lg">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center h-16">
                    <h1 class="text-2xl font-bold neon-text">Task Manager</h1>
                    <div class="flex items-center gap-4">
                        <div class="relative">
                            <button id="notificationBtn" class="p-2 text-cyan-400 hover:text-cyan-300 relative">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9">
                                    </path>
                                </svg>
                                <span id="notificationBadge"
                                    class="hidden absolute top-0 right-0 w-3 h-3 rounded-full notification-badge"></span>
                            </button>
                        </div>
                        <span class="text-sm text-slate-300">游녻 <strong id="currentUsername"
                                class="text-white"></strong></span>
                        <button id="logoutBtn"
                            class="px-4 py-2 text-sm bg-red-500 bg-opacity-20 hover:bg-opacity-30 text-red-400 rounded-lg transition">
                            Salir
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <nav class="bg-white border-b border-slate-200 animate-slide-up" style="animation-delay: 0.1s;">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex gap-1 overflow-x-auto">
                    <button
                        class="tab-btn active px-6 py-3 text-sm font-medium border-b-2 border-blue-500 text-blue-600"
                        data-tab="tasks">
                        Tareas
                    </button>
                    <button
                        class="tab-btn px-6 py-3 text-sm font-medium border-b-2 border-transparent text-slate-600 hover:text-slate-900"
                        data-tab="projects">
                        Proyectos
                    </button>
                    <button
                        class="tab-btn px-6 py-3 text-sm font-medium border-b-2 border-transparent text-slate-600 hover:text-slate-900"
                        data-tab="search">
                        B칰squeda
                    </button>
                    <button
                        class="tab-btn px-6 py-3 text-sm font-medium border-b-2 border-transparent text-slate-600 hover:text-slate-900"
                        data-tab="reports">
                        Reportes
                    </button>
                    <button
                        class="tab-btn px-6 py-3 text-sm font-medium border-b-2 border-transparent text-slate-600 hover:text-slate-900"
                        data-tab="comments">
                        Comentarios
                    </button>
                    <button
                        class="tab-btn px-6 py-3 text-sm font-medium border-b-2 border-transparent text-slate-600 hover:text-slate-900"
                        data-tab="history">
                        Historial
                    </button>
                    <button
                        class="tab-btn px-6 py-3 text-sm font-medium border-b-2 border-transparent text-slate-600 hover:text-slate-900"
                        data-tab="notifications">
                        Notificaciones
                    </button>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">

            <!-- Tasks Tab -->
            <div id="tasksTab" class="tab-content">
                <!-- Stats Cards -->
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                    <div class="stat-card stat-card-1 scroll-reveal stagger-1">
                        <div class="text-sm text-cyan-400 mb-2 uppercase tracking-wide">Total</div>
                        <div class="text-4xl font-bold text-white" id="statTotal">0</div>
                    </div>
                    <div class="stat-card stat-card-2 scroll-reveal stagger-2">
                        <div class="text-sm text-lime-400 mb-2 uppercase tracking-wide">Completadas</div>
                        <div class="text-4xl font-bold text-white" id="statCompleted">0</div>
                    </div>
                    <div class="stat-card stat-card-3 scroll-reveal stagger-3">
                        <div class="text-sm text-orange-400 mb-2 uppercase tracking-wide">Pendientes</div>
                        <div class="text-4xl font-bold text-white" id="statPending">0</div>
                    </div>
                    <div class="stat-card stat-card-4 scroll-reveal stagger-4">
                        <div class="text-sm text-pink-400 mb-2 uppercase tracking-wide">Alta Prioridad</div>
                        <div class="text-4xl font-bold text-white" id="statHighPriority">0</div>
                    </div>
                </div>

                <!-- Task Form -->
                <div class="glass-card p-6 mb-8 scroll-reveal">
                    <h2 class="text-xl font-semibold text-white mb-4">Nueva Tarea</h2>

                    <form id="taskForm" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="md:col-span-2">
                            <label class="block text-sm font-medium text-slate-300 mb-2">T칤tulo</label>
                            <input type="text" id="taskTitle" class="w-full" required>
                        </div>

                        <div class="md:col-span-2">
                            <label class="block text-sm font-medium text-slate-300 mb-2">Descripci칩n</label>
                            <textarea id="taskDescription" rows="2" class="w-full"></textarea>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-slate-300 mb-2">Estado</label>
                            <select id="taskStatus" class="w-full">
                                <option>Pendiente</option>
                                <option>En Progreso</option>
                                <option>Completada</option>
                                <option>Bloqueada</option>
                            </select>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-slate-300 mb-2">Prioridad</label>
                            <select id="taskPriority" class="w-full">
                                <option>Baja</option>
                                <option selected>Media</option>
                                <option>Alta</option>
                                <option>Cr칤tica</option>
                            </select>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-slate-300 mb-2">Proyecto</label>
                            <select id="taskProject" class="w-full"></select>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-slate-300 mb-2">Asignado a</label>
                            <select id="taskAssigned" class="w-full"></select>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-slate-300 mb-2">Fecha Vencimiento</label>
                            <input type="date" id="taskDueDate" class="w-full">
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-slate-300 mb-2">Horas Estimadas</label>
                            <input type="number" id="taskHours" step="0.5" class="w-full">
                        </div>

                        <div class="md:col-span-2 flex gap-2">
                            <button type="submit" class="btn-gradient">
                                Agregar Tarea
                            </button>
                            <button type="button" id="updateTaskBtn" class="hidden btn-success">
                                Actualizar
                            </button>
                            <button type="button" id="deleteTaskBtn" class="hidden btn-danger">
                                Eliminar
                            </button>
                            <button type="button" id="clearTaskBtn" class="btn-warning">
                                Limpiar
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Tasks List -->
                <div class="glass-card overflow-hidden scroll-reveal">
                    <div class="p-6 border-b border-white border-opacity-10">
                        <h2 class="text-xl font-semibold text-white">Lista de Tareas</h2>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead>
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium uppercase">ID</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium uppercase">T칤tulo</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium uppercase">Estado</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium uppercase">Prioridad</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium uppercase">Proyecto</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium uppercase">Asignado</th>
                                </tr>
                            </thead>
                            <tbody id="tasksTableBody" class="divide-y divide-slate-700 divide-opacity-30">
                                <!-- Tasks will be inserted here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Projects Tab -->
            <div id="projectsTab" class="tab-content hidden">
                <div class="bg-white rounded-xl shadow-sm p-6 mb-8">
                    <h2 class="text-xl font-semibold text-slate-900 mb-4">Nuevo Proyecto</h2>

                    <form id="projectForm" class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">Nombre</label>
                            <input type="text" id="projectName"
                                class="w-full px-4 py-2 border border-slate-200 rounded-lg input-glow" required>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">Descripci칩n</label>
                            <textarea id="projectDescription" rows="3"
                                class="w-full px-4 py-2 border border-slate-200 rounded-lg input-glow"></textarea>
                        </div>

                        <div class="flex gap-2">
                            <button type="submit"
                                class="px-6 py-2 bg-blue-500 text-white rounded-lg btn-hover hover:bg-blue-600">
                                Agregar Proyecto
                            </button>
                            <button type="button" id="updateProjectBtn"
                                class="hidden px-6 py-2 bg-green-500 text-white rounded-lg btn-hover hover:bg-green-600">
                                Actualizar
                            </button>
                            <button type="button" id="deleteProjectBtn"
                                class="hidden px-6 py-2 bg-red-500 text-white rounded-lg btn-hover hover:bg-red-600">
                                Eliminar
                            </button>
                        </div>
                    </form>
                </div>

                <div class="bg-white rounded-xl shadow-sm overflow-hidden">
                    <div class="p-6 border-b border-slate-200">
                        <h2 class="text-xl font-semibold text-slate-900">Lista de Proyectos</h2>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead class="bg-slate-50">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase">ID</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase">Nombre
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase">
                                        Descripci칩n</th>
                                </tr>
                            </thead>
                            <tbody id="projectsTableBody" class="divide-y divide-slate-200">
                                <!-- Projects will be inserted here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Search Tab -->
            <div id="searchTab" class="tab-content hidden">
                <div class="bg-white rounded-xl shadow-sm p-6 mb-8">
                    <h2 class="text-xl font-semibold text-slate-900 mb-4">B칰squeda Avanzada</h2>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">Texto</label>
                            <input type="text" id="searchText" placeholder="Buscar..."
                                class="w-full px-4 py-2 border border-slate-200 rounded-lg input-glow">
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">Estado</label>
                            <select id="searchStatus"
                                class="w-full px-4 py-2 border border-slate-200 rounded-lg input-glow">
                                <option value="">Todos</option>
                                <option>Pendiente</option>
                                <option>En Progreso</option>
                                <option>Completada</option>
                            </select>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">Prioridad</label>
                            <select id="searchPriority"
                                class="w-full px-4 py-2 border border-slate-200 rounded-lg input-glow">
                                <option value="">Todas</option>
                                <option>Baja</option>
                                <option>Media</option>
                                <option>Alta</option>
                                <option>Cr칤tica</option>
                            </select>
                        </div>
                    </div>

                    <button id="searchBtn"
                        class="mt-4 px-6 py-2 bg-blue-500 text-white rounded-lg btn-hover hover:bg-blue-600">
                        Buscar
                    </button>
                </div>

                <div class="bg-white rounded-xl shadow-sm overflow-hidden">
                    <div class="p-6 border-b border-slate-200">
                        <h2 class="text-xl font-semibold text-slate-900">Resultados</h2>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead class="bg-slate-50">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase">ID</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase">T칤tulo
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase">Estado
                                    </th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase">
                                        Prioridad</th>
                                </tr>
                            </thead>
                            <tbody id="searchTableBody" class="divide-y divide-slate-200">
                                <!-- Search results will be inserted here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Reports Tab -->
            <div id="reportsTab" class="tab-content hidden">
                <div class="bg-white rounded-xl shadow-sm p-6 mb-8">
                    <h2 class="text-xl font-semibold text-slate-900 mb-4">Generar Reportes</h2>

                    <div class="flex gap-2">
                        <button onclick="generateReport('tasks')"
                            class="px-6 py-2 bg-blue-500 text-white rounded-lg btn-hover hover:bg-blue-600">
                            Reporte de Tareas
                        </button>
                        <button onclick="generateReport('projects')"
                            class="px-6 py-2 bg-blue-500 text-white rounded-lg btn-hover hover:bg-blue-600">
                            Reporte de Proyectos
                        </button>
                        <button onclick="exportCSV()"
                            class="px-6 py-2 bg-green-500 text-white rounded-lg btn-hover hover:bg-green-600">
                            Exportar CSV
                        </button>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-sm p-6">
                    <h2 class="text-xl font-semibold text-slate-900 mb-4">Resultado</h2>
                    <pre id="reportArea"
                        class="bg-slate-50 p-4 rounded-lg text-sm text-slate-700 whitespace-pre-wrap min-h-[300px]"></pre>
                </div>
            </div>

            <!-- Comments Tab -->
            <div id="commentsTab" class="tab-content hidden">
                <div class="bg-white rounded-xl shadow-sm p-6 mb-8">
                    <h2 class="text-xl font-semibold text-slate-900 mb-4">Comentarios</h2>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">ID de la Tarea</label>
                            <input type="number" id="commentTaskId"
                                class="w-full px-4 py-2 border border-slate-200 rounded-lg input-glow">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-2">Comentario</label>
                            <input type="text" id="commentText"
                                class="w-full px-4 py-2 border border-slate-200 rounded-lg input-glow">
                        </div>
                    </div>

                    <div class="flex gap-2">
                        <button id="submitCommentBtn"
                            class="px-6 py-2 bg-blue-500 text-white rounded-lg btn-hover hover:bg-blue-600">
                            Subir Comentario
                        </button>
                        <button id="loadCommentsBtn"
                            class="px-6 py-2 bg-green-500 text-white rounded-lg btn-hover hover:bg-green-600">
                            Cargar Comentarios
                        </button>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-sm p-6">
                    <h2 class="text-xl font-semibold text-slate-900 mb-4">Lista de Comentarios</h2>
                    <div id="commentsArea"
                        class="bg-slate-50 p-4 rounded-lg text-sm text-slate-700 whitespace-pre-wrap min-h-[300px]">
                    </div>
                </div>
            </div>

            <!-- History Tab -->
            <div id="historyTab" class="tab-content hidden">
                <div class="bg-white rounded-xl shadow-sm p-6 mb-8">
                    <h2 class="text-xl font-semibold text-slate-900 mb-4">Historial</h2>

                    <div class="mb-4">
                        <label class="block text-sm font-medium text-slate-700 mb-2">ID de la Tarea</label>
                        <input type="number" id="historyTaskId"
                            class="w-full px-4 py-2 border border-slate-200 rounded-lg input-glow">
                    </div>

                    <div class="flex gap-2">
                        <button id="loadTaskHistoryBtn"
                            class="px-6 py-2 bg-blue-500 text-white rounded-lg btn-hover hover:bg-blue-600">
                            Cargar Historial de Tarea
                        </button>
                        <button id="loadAllHistoryBtn"
                            class="px-6 py-2 bg-green-500 text-white rounded-lg btn-hover hover:bg-green-600">
                            Cargar Todo el Historial
                        </button>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-sm p-6">
                    <h2 class="text-xl font-semibold text-slate-900 mb-4">Historial de Cambios</h2>
                    <pre id="historyArea"
                        class="bg-slate-50 p-4 rounded-lg text-sm text-slate-700 whitespace-pre-wrap min-h-[300px]"></pre>
                </div>
            </div>

            <!-- Notifications Tab -->
            <div id="notificationsTab" class="tab-content hidden">
                <div class="bg-white rounded-xl shadow-sm p-6 mb-8">
                    <h2 class="text-xl font-semibold text-slate-900 mb-4">Notificaciones</h2>

                    <div class="flex gap-2">
                        <button id="loadNotificationsBtn"
                            class="px-6 py-2 bg-blue-500 text-white rounded-lg btn-hover hover:bg-blue-600">
                            Cargar Notificaciones
                        </button>
                        <button id="markNotificationsReadBtn"
                            class="px-6 py-2 bg-green-500 text-white rounded-lg btn-hover hover:bg-green-600">
                            Marcar como Le칤das
                        </button>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-sm p-6">
                    <h2 class="text-xl font-semibold text-slate-900 mb-4">Lista de Notificaciones</h2>
                    <div id="notificationsArea" class="bg-slate-50 p-4 rounded-lg text-sm text-slate-700 min-h-[300px]">
                    </div>
                </div>
            </div>

        </main>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white rounded-xl p-6 flex items-center gap-3">
            <div class="spinner"></div>
            <span class="text-slate-700">Cargando...</span>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>